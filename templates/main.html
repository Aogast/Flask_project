{% extends "baseshabl.html" %}
{% block content %}
    <h2 class='table1'>Основная страница</h2>
<hr>
  <p>Если что-то непонятно, используйте голосовой ввод.</p>
  <input type="button" name='начало' class="butt" value='Начать прослушивание' onclick="start()">
  <input type="button" name='конец' class="butt" value='Закончить' onclick="stop()">
  <hr>
  <h1>Сайт по продаже печенья</h1>
    <div id='описание'>
    <p>Наш сайт - один из крупнейших онлайн-продавцов печенья в России. Здесь вы можете найти огромный выбор российской и
        зарубежной продукции на любой выбор и вкус. Надеемся, вы смоежете  найти то, что вас заинтересует.</p>
    <h3>О поставщиках</h3>
    <p>Наша компания имеет поставщиков по всему миру. Мы предлагаем вам на выбор многие традиционные изделия со всего света.
        Например: Батончики нанаймо, печенье амишей, свадебное мексиканское печенье. В нашей фирме действует одна из
        самых качественных служб проверки поставщиков, поэтому на нашем сайте вы найдете исключительно товары, сделанные добросовест7но</p>
    <h3>Наши самые популярные продукты</h3>
    </div>
    <img class='img' src="static/печенье 2.jpg" width="370" height="250" alt="здесь должна быть картинка, но ее почему-то нет"/>
    <div class="tablex" id='продукт'>
        <ul>
            <li>Овсяное печенье</li>
            <li>Ржаное печенье</li>
            <li>Абрикосовое печенье</li>
            <li>Миндальные хлебцы</li>
            <li>Кокосовое печенье</li>
            <li>Трюфели</li>
            <li>Халва</li>
        </ul>
    </div>
    <h3>Список основных стран поставщиков</h3>
    <div class='tablex' id='поставщик'>
        <ul>
            <li>США</li>
            <li>Мексика</li>
            <li>Польша</li>
            <li>Канада</li>
            <li>Египет</li>
            <li>ЮАР</li>
            <li>Мали</li>
            <li>Германия</li>
            <li>Италия</li>
            <li>Франция</li>
            <li>Япония</li>
        </ul>
    </div>
<img class='img' src="static/печенье4.jpeg" width="370" height="250" alt="здесь должна быть картинка, но ее почему-то нет"/>
  <script>
 var recogn = new webkitSpeechRecognition();
  var tsaurus0 = ['перемести', 'выдел', 'спусти']; // создаем первый тезаурус с командами
  var tsaurus1 = ['поставщик', 'заказ', 'продукт', 'контакт', 'описани', 'инструкци', 'главна', 'таблиц',]; // создаем второй тезаурус с обрабатываемыми элементами
  var namin1 = '';
  var namin2 = '';
  recogn.lang = 'ru-Ru';
  recogn.interimResults = true; // инициализация
  recogn.onresult = function (event) {
    var result = event.results[event.resultIndex];
    if (result.isFinal) {var tsaurus2 = result[0].transcript.toLowerCase().split(' ');
    alert(tsaurus2);
      for (let i = 0; i < tsaurus2.length; i++) {
          for (let j = 0; j < tsaurus1.length; j++) {
              if (tsaurus2[i].indexOf(tsaurus1[j]) != -1){
                  namin1 = tsaurus1[j];}}}
      for (let i = 0; i < tsaurus2.length; i++) {
          for (let j = 0; j < tsaurus0.length; j++) {
              if (tsaurus2[i].indexOf(tsaurus0[j]) != -1){
                  namin2 = tsaurus0[j];}}}
        if (namin1 == ''|| namin2 == ''){
            alert('По всем признакам, вы сделали что-то не так.Обратитесь к инструкции и повторите еще раз');}
        else if(namin2 == 'спусти'){
            window.location.href = window.location.href + '#' + namin1;}
        else if(namin2 == 'перемести'){
            var elem = document.getElementById(namin1).href;
            window.location.href = document.getElementById(namin1).href;}
        else if(namin2 == 'выдел'){
            document.getElementById(namin1).style.display = "initial";}
        namin1='';
        namin2='';
        } else {console.log('Промежуточный результат: ', result[0].transcript);}};
  function start () {recogn.start();}
  function stop () {synth.pause();}
  </script>
{% endblock %}